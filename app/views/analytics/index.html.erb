
<%#= REPORTS FOR CUSTOMER "@customer_name" %>
<div class = "white-background" >
	<div class = "project_vacation_graph" >
		<div class = "project_users_graph">
			<h6>Number of users per Project</h6>

			<div class ="toggle bar-field"> 
				<%= bar :bar_chart, @barSize, @bar_data_2.to_json, @bar_options %>
			</div>

			<div class ="toggle table-field"> 
				<table>
					<tr>
						<th> Project</th>
						<th> Number of Users </th>
					</tr>
					<% @project_ids.each do |pi| %>

					<tr>
						<td><%= Project.find(pi).name %></td>
						<td><%= Project.find(pi).users.count %></td>
					</tr>
					<% end %>
				</table>
			</div>

		</div>

		<div class = "vacation_request_graph" >
			<h6>Bar Graph for vacation Request</h6>
			<div class = "vacation_request_bar">
				<%= bar :bar_chart_3, @barSize, @bar_data_3.to_json %>
			</div>

			<div class = "vacation_request_table">
			<table>
				<tr>
					<th> Vaction Types</th>
					<th> Number of Vacation Requests </th>
				</tr>
				<% @vacation_types.each_with_index do |cemp, i| %>
					<tr>
						<td><%=  @vacation_types[i] %></td>
						<td><%=  @vac_req_count[i] %></td>
					</tr>
				<% end %>
			</table>
			</div>
			<div class = "vacation_request_users" >
				<table>
					<tr>
						<th>User name</th>
						<th>Project name</th>
						<th>Vacation Request Date</th>
					</tr>
				</table>
			</div>
		</div>

		<div class = "employment_types_graph">
			<h6 >Pie Graph for Employment Types</h6>
			<div class = "pie_employment_types" >
				<%= pie :pie_chart, @pieSize, @pie_data_2.to_json %>
			</div>

			<div class = "employment_types_table">
				<table>
					<tr>
						<th> Employment Types</th>
						<th> Number of users </th>
					</tr>
					<% @cus_emp_types.each_with_index do |cemp, i| %>
						<tr>
							<td><%=  @cus_emp_names[i] %></td>
							<td><%=  @user_emp_count[i] %></td>
						</tr>
					<% end %>
				</table>
			</div>
		</div>
	</div>
	<br>
	<br>
	<%#= bar :bar_chart, @barSize, @bar_data_2.to_json %>
	<%#= bar :bar_chart, @barSize, @bar_data_3.to_json %>



	<%#= h_funnel :h_bar, @barSize, @bar_data_2.to_json %>
	<div class = "timesheets_graph">
		<h6>Timesheets for Each Month</h6>
		<div class = "toggle line_graph">
			<%= line :line_chart, @lineSize, @line_data.to_json %>
		</div>

		<div class ="toggle timesheets-table-field"> 
			<table>
				<tr>
					<th> Months</th>
					<th> New Timesheets </th>
					<th> Submitted Timesheets </th>
					<th> Approved Timesheets </th>
					<th> Rejected Timesheets </th>
				</tr>
				<% @month_names.each_with_index do |mn,i| %>
				<tr>
					<td><%= mn %></td>
					<td><%= @new_count_array[i] %></td>
					<td><%= @submitted_count_array[i] %></td>
					<td><%= @approved_count_array[i] %></td>
					<td><%= @rejected_count_array[i] %></td>
				</tr>
				<%end %>
			</table>
		</div>
	</div>

	<br>
	<div class = "orange-button customer-reports" >
		<%= link_to('User Activities', "user_activities/#{params[:customer_id]}", target: :_blank ) %>
	</div>
	<br>
	<div class = "orange-button customer-reports" >
		<%= link_to('Reports', "/customer_reports/#{params[:customer_id]}", target: :_blank ) %>
	</div>
	<br> 
	<div class = "orange-button vacation-reports">
		<%= link_to('Vacation Reports',"vacation_reports/customer/#{params[:customer_id]}", target: :_blank) %>
	</div>
	<br>
	<div class = "orange-button inventory-reports" >
		<%= link_to('Inventory Reports', "/inventory_reports/#{params[:customer_id]}", target: :_blank ) %>
	</div>
	<br> 
	<% if flash[:alert] %>
      <div class="notification is-danger global-notification" style ="width: 50%; margin: 0 auto;" >
        <p class="alert"><%= alert %></p>
      </div>
     <% else %>
     <div class = "orange-button vacation-reports">
		<%= link_to('Paid Vacation Balances',"vacation_types_summary/#{params[:customer_id]}", target: :_blank) %>
	</div>
    <% end %>
	

</div>
